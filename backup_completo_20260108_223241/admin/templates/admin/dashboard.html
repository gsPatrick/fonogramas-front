{% extends "admin/base_admin.html" %}

{% block page_title %}Dashboard Administrativo{% endblock %}

{% block content %}
<!-- Stats Cards -->
<div class="admin-stats-grid mb-4">
    <div class="admin-stat-card admin-stat-card--primary">
        <div class="admin-stat-card__icon">
            <i class="bi bi-music-note-list"></i>
        </div>
        <div class="admin-stat-card__value">{{ stats.total_fonogramas }}</div>
        <div class="admin-stat-card__label">Total Fonogramas</div>
    </div>

    <div class="admin-stat-card admin-stat-card--warning">
        <div class="admin-stat-card__icon">
            <i class="bi bi-hourglass-split"></i>
        </div>
        <div class="admin-stat-card__value">{{ stats.pendentes }}</div>
        <div class="admin-stat-card__label">Pendentes de Envio</div>
    </div>

    <div class="admin-stat-card admin-stat-card--info">
        <div class="admin-stat-card__icon">
            <i class="bi bi-clock-history"></i>
        </div>
        <div class="admin-stat-card__value">{{ stats.envios_aguardando }}</div>
        <div class="admin-stat-card__label">Aguardando Retorno</div>
    </div>

    <div class="admin-stat-card admin-stat-card--success">
        <div class="admin-stat-card__icon">
            <i class="bi bi-check-circle"></i>
        </div>
        <div class="admin-stat-card__value">{{ stats.taxa_aprovacao }}%</div>
        <div class="admin-stat-card__label">Taxa de Aprovação</div>
    </div>
</div>

<!-- Quick Actions -->
<div class="admin-card">
    <div class="admin-card__header">
        <h3 class="admin-card__title">
            <i class="bi bi-lightning-charge"></i> Ações Rápidas
        </h3>
    </div>
    <div class="admin-card__body">
        <div class="quick-actions-grid">
            <a href="{{ url_for('admin.novo_envio') }}" class="quick-action-btn">
                <i class="bi bi-send-plus"></i>
                <span>Novo Envio ECAD</span>
            </a>

            <a href="{{ url_for('admin.upload_retorno') }}" class="quick-action-btn">
                <i class="bi bi-file-earmark-arrow-down"></i>
                <span>Processar Retorno</span>
            </a>

            <a href="{{ url_for('admin.operacoes_lote') }}" class="quick-action-btn">
                <i class="bi bi-cloud-upload"></i>
                <span>Importar Lote</span>
            </a>

            <a href="{{ url_for('admin.menu_relatorios') }}" class="quick-action-btn">
                <i class="bi bi-graph-up"></i>
                <span>Ver Relatórios</span>
            </a>

            <a href="{{ url_for('admin.auditoria_geral') }}" class="quick-action-btn">
                <i class="bi bi-shield-check"></i>
                <span>Auditoria</span>
            </a>

            <a href="{{ url_for('admin.gerenciar_usuarios') }}" class="quick-action-btn">
                <i class="bi bi-people"></i>
                <span>Gerenciar Usuários</span>
            </a>
        </div>
    </div>
</div>

<!-- Status Summary -->
<div class="row">
    <div class="col-md-6">
        <div class="admin-card">
            <div class="admin-card__header">
                <h3 class="admin-card__title">
                    <i class="bi bi-pie-chart"></i> Por Status ECAD
                </h3>
            </div>
            <div class="admin-card__body admin-card__body--flush">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>Aceitos</span>
                        <span class="badge-status badge-status--aceito">{{ stats.aceitos }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>Enviados (aguardando)</span>
                        <span class="badge-status badge-status--enviado">{{ stats.enviados }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>Recusados</span>
                        <span class="badge-status badge-status--recusado">{{ stats.recusados }}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>Pendentes</span>
                        <span class="badge-status badge-status--pendente">{{ stats.pendentes }}</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="admin-card">
            <div class="admin-card__header">
                <h3 class="admin-card__title">
                    <i class="bi bi-activity"></i> Resumo de Envios
                </h3>
            </div>
            <div class="admin-card__body admin-card__body--flush">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>Total de Envios</span>
                        <strong class="text-primary">{{ stats.total_envios }}</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>Aguardando Retorno</span>
                        <strong class="text-warning">{{ stats.envios_aguardando }}</strong>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>Novos (últimos 30 dias)</span>
                        <strong class="text-info">{{ stats.novos_30_dias }}</strong>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}